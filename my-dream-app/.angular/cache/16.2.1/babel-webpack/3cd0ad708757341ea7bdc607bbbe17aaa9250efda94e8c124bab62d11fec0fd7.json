{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CarService } from '../shared/car/car.service';\nimport { GiphyService } from '../shared/giphy/giphy.service';\nimport { formatDate } from '@angular/common';\nexport let CarEditComponent = class CarEditComponent {\n  constructor(route, router, carService, giphyService) {\n    this.route = route;\n    this.router = router;\n    this.carService = carService;\n    this.giphyService = giphyService;\n    this.car = {};\n    this.today = new Date();\n    this.jstoday = '';\n    this.jstoday = formatDate(this.today, 'dd-MM-yyyy hh:mm:ss a', 'en-US', '+0530');\n  }\n  ngOnInit() {\n    this.sub = this.route.params.subscribe(params => {\n      const id = params['id'];\n      if (id) {\n        this.carService.get(id).subscribe(car => {\n          if (car) {\n            this.car = car;\n            this.car.href = car._links.self.href;\n            //this.giphyService.get(car.name).subscribe(url => car.giphyUrl = url);\n          } else {\n            console.log(`Car with id '${id}' not found, returning to list`);\n            this.gotoList();\n          }\n        });\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n  gotoList() {\n    this.router.navigate(['/car-list']);\n  }\n  save(form) {\n    this.carService.save(form).subscribe(result => {\n      this.gotoList();\n    }, error => console.error(error));\n  }\n  remove(href) {\n    this.carService.remove(href).subscribe(result => {\n      this.gotoList();\n    }, error => console.error(error));\n  }\n};\nCarEditComponent = __decorate([Component({\n  selector: 'app-car-edit',\n  templateUrl: './car-edit.component.html',\n  styleUrls: ['./car-edit.component.css']\n}), __metadata(\"design:paramtypes\", [ActivatedRoute, Router, CarService, GiphyService])], CarEditComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}